@model IEnumerable<Attendance>
@{ ViewData["Title"] = "My Attendance"; ViewData["Active"] = "Attendance";
   var total = Model.Count(); var present = Model.Count(a => a.Status == "Present"); var pct = total > 0 ? (present * 100 / total) : 0; }
<div class="card mb-3"><div class="card-body">
<div class="d-flex justify-content-between mb-2"><span class="fw-semibold">Attendance Rate</span><span class="fw-bold" style="color:#1a237e">@pct%</span></div>
<div class="progress"><div class="progress-bar bg-success" style="width:@pct%"></div></div>
<div class="d-flex gap-3 mt-2 small text-muted"><span><i class="bi bi-circle-fill text-success me-1"></i>Present: @present</span><span><i class="bi bi-circle-fill text-danger me-1"></i>Absent: @Model.Count(a => a.Status == "Absent")</span><span><i class="bi bi-circle-fill text-warning me-1"></i>Late: @Model.Count(a => a.Status == "Late")</span></div>
</div></div>
<div class="card"><div class="card-header"><i class="bi bi-calendar-check me-2"></i>Attendance Records</div>
<div class="card-body p-0"><table class="table table-hover mb-0"><thead class="table-light"><tr><th>Date</th><th>Subject</th><th>Status</th><th>Remarks</th></tr></thead>
<tbody>@foreach (var a in Model){<tr><td>@a.Date.ToString("dd MMM yyyy")</td><td>@a.Subject?.Name</td><td><span class="badge badge-status-@a.Status.ToLower()">@a.Status</span></td><td class="text-muted small">@a.Remarks</td></tr>}</tbody>
</table></div></div>
