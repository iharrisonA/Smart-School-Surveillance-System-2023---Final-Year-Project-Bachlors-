{% extends "base.html" %}
{% block title %}Announcements — SSSS{% endblock %}
{% block page_title %}Post Announcement{% endblock %}
{% block page_subtitle %}Communicate with your students{% endblock %}
{% block content %}
<div class="grid-2">
  <div class="card">
    <div class="card-header"><h3><i class="fas fa-bullhorn" style="color: var(--accent);"></i> Create Announcement</h3></div>
    <div class="card-body">
      <form method="POST">
        <div class="form-group">
          <label>Title *</label>
          <input type="text" name="title" placeholder="Announcement title" required>
        </div>
        <div class="form-group">
          <label>Details *</label>
          <textarea name="details" placeholder="Write your announcement..." required></textarea>
        </div>
        <div class="form-grid">
          <div class="form-group">
            <label>Start Date</label>
            <input type="date" name="start_date" value="{{ today }}">
          </div>
          <div class="form-group">
            <label>End Date</label>
            <input type="date" name="end_date">
          </div>
        </div>
        <button type="submit" class="btn btn-primary"><i class="fas fa-bullhorn"></i> Post</button>
      </form>
    </div>
  </div>
  <div class="card">
    <div class="card-header"><h3><i class="fas fa-list" style="color: var(--primary);"></i> My Announcements</h3></div>
    <div style="max-height: 450px; overflow-y: auto;">
      {% if announcements %}
        {% for ann in announcements %}
        <div style="padding: 0.85rem 1.25rem; border-bottom: 1px solid #f3f4f6;">
          <strong>{{ ann.title }}</strong>
          <p class="text-sm text-muted mt-1">{{ ann.details }}</p>
          <p style="font-size: 0.72rem; color: var(--muted); margin-top: 0.4rem;"><i class="fas fa-calendar"></i> {{ ann.start_date }} — {{ ann.end_date or 'Ongoing' }}</p>
        </div>
        {% endfor %}
      {% else %}
      <div class="empty-state"><i class="fas fa-bullhorn"></i><p>No announcements posted yet.</p></div>
      {% endif %}
    </div>
  </div>
</div>
{% endblock %}
