{% extends "base.html" %}
{% block title %}Study Materials â€” SSSS{% endblock %}
{% block page_title %}Study Materials{% endblock %}
{% block page_subtitle %}Access lectures, assignments, and notes{% endblock %}
{% block content %}
<div class="card">
  <div class="card-header">
    <h3><i class="fas fa-book-open" style="color: var(--accent2);"></i> Class Materials</h3>
    <span class="badge badge-info">{{ materials|length }} items</span>
  </div>
  {% if materials %}
  <div style="padding: 1rem; display: flex; flex-direction: column; gap: 0.75rem;">
    {% for m in materials %}
    <div style="border: 1px solid var(--border); border-radius: 10px; padding: 1rem 1.25rem; display: flex; align-items: flex-start; gap: 1rem;">
      <div style="width: 42px; height: 42px; border-radius: 10px; display: flex; align-items: center; justify-content: center; flex-shrink: 0; font-size: 1.1rem;
        background: {{ '#dbeafe' if m.type == 'lecture' else '#fef3c7' if m.type == 'assignment' else '#f3f4f6' }};
        color: {{ '#1d4ed8' if m.type == 'lecture' else '#d97706' if m.type == 'assignment' else '#6b7280' }};">
        <i class="fas fa-{{ 'play-circle' if m.type == 'lecture' else 'file-alt' if m.type == 'assignment' else 'sticky-note' }}"></i>
      </div>
      <div style="flex: 1;">
        <div class="flex justify-between items-center mb-1">
          <strong>{{ m.title }}</strong>
          <span class="badge badge-{{ 'info' if m.type == 'lecture' else 'warning' if m.type == 'assignment' else 'secondary' }}">{{ m.type }}</span>
        </div>
        <div style="font-size: 0.8rem; color: var(--muted);">
          <i class="fas fa-book"></i> {{ m.subject_name }}
          {% if m.due_date %}&bull; <i class="fas fa-calendar" style="color: var(--accent);"></i> Due: <strong style="color: var(--accent);">{{ m.due_date }}</strong>{% endif %}
        </div>
        {% if m.description %}<p style="font-size: 0.875rem; margin-top: 0.5rem; color: #374151;">{{ m.description }}</p>{% endif %}
        <div style="font-size: 0.72rem; color: var(--muted); margin-top: 0.4rem;"><i class="fas fa-clock"></i> {{ m.created_at[:10] }}</div>
      </div>
    </div>
    {% endfor %}
  </div>
  {% else %}
  <div class="empty-state"><i class="fas fa-book-open"></i><p>No materials uploaded for your class yet.</p></div>
  {% endif %}
</div>
{% endblock %}
