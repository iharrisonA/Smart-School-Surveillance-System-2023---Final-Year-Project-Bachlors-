{% extends "base.html" %}
{% block title %}Assign Subjects â€” SSSS{% endblock %}
{% block page_title %}Assign Subjects to Teachers{% endblock %}
{% block page_subtitle %}Specify which teacher handles which subject in which class{% endblock %}
{% block content %}
<div class="grid-2">
  <div class="card">
    <div class="card-header"><h3><i class="fas fa-link" style="color: var(--accent2);"></i> Assign Subject</h3></div>
    <div class="card-body">
      <form method="POST">
        <div class="form-group">
          <label>Select Class *</label>
          <select name="class_id" required>
            <option value="">Select Class</option>
            {% for c in classes %}
            <option value="{{ c.id }}">{{ c.class_name }}</option>
            {% endfor %}
          </select>
        </div>
        <div class="form-group">
          <label>Select Subject *</label>
          <select name="subject_id" required>
            <option value="">Select Subject</option>
            {% for s in subjects %}
            <option value="{{ s.id }}">{{ s.subject_name }} ({{ s.class_name }})</option>
            {% endfor %}
          </select>
        </div>
        <div class="form-group">
          <label>Assign to Teacher *</label>
          <select name="teacher_id" required>
            <option value="">Select Teacher</option>
            {% for t in teachers %}
            <option value="{{ t.id }}">{{ t.name }}</option>
            {% endfor %}
          </select>
        </div>
        <button type="submit" class="btn btn-primary"><i class="fas fa-save"></i> Assign</button>
      </form>
    </div>
  </div>

  <div class="card">
    <div class="card-header"><h3><i class="fas fa-list" style="color: var(--primary);"></i> Current Assignments</h3></div>
    <div class="table-wrap">
      {% if assignments %}
      <table>
        <thead><tr><th>Teacher</th><th>Subject</th><th>Class</th></tr></thead>
        <tbody>
          {% for a in assignments %}
          <tr>
            <td><strong>{{ a.teacher_name }}</strong></td>
            <td>{{ a.subject_name }}</td>
            <td><span class="badge badge-info">{{ a.class_name }}</span></td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
      {% else %}
      <div class="empty-state"><i class="fas fa-link"></i><p>No assignments yet.</p></div>
      {% endif %}
    </div>
  </div>
</div>
{% endblock %}
